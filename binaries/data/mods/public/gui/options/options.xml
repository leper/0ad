<?xml version="1.0" encoding="utf-8"?>

<!--
==========================================
- Options Window -
==========================================
-->

<objects>
    <script file="gui/common/functions_civinfo.js"/>
    <script file="gui/options/options.js"/>

    <!-- Add a translucent black background to fade out the menu page -->
    <object type="image" z="0" style="TranslucentPanel"/>

    <!-- Settings Window -->
    <object name="options" type="image" style="ModernDialog" size="50%-466 50%-316 50%+466 50%+316">
        <object style="TitleText" type="text" size="50%-128 0%-16 50%+128 16">
            <translatableAttribute id="caption">Game Options</translatableAttribute>
        </object>
        <object name="SystemSettings" type="image" sprite="ModernDarkBoxGold" size="16 16 316 100%-16">
            <object style="TitleText" type="text" size="0 5 100% 25">
                <translatableAttribute id="caption">System Settings</translatableAttribute>
            </object>
            <object size="0 25 65% 50" type="text" style="ModernLabelText" text_align="right">
                <translatableAttribute id="caption">Windowed Mode</translatableAttribute>
            </object>
            <object name="WindowedCFGLate" size="70% 30 70%+25 55" type="checkbox" style="ModernTickBox">
                <action on="Load">Engine.ConfigDB_GetValue("user", "windowed") === "true" ? this.checked = true : this.checked = false;</action>
                <action on="Press">Engine.ConfigDB_CreateValue("user", "windowed", String(this.checked));</action>
            </object>
            <object size="0 50 65% 75" type="text" style="ModernLabelText" text_align="right">
                <translatableAttribute id="caption">Background Pause</translatableAttribute>
            </object>
            <object name="PauseCFGNow" size="70% 55 70%+25 80" type="checkbox" style="ModernTickBox">
                <action on="Load">Engine.ConfigDB_GetValue("user", "pauseonfocusloss") === "true" ? this.checked = true : this.checked = false;</action>
                <action on="Press">Engine.ConfigDB_CreateValue("user", "pauseonfocusloss", String(this.checked));</action>
            </object>
        </object>
        <object name="GraphicsSettings" type="image" sprite="ModernDarkBoxGold" size="316 16 616 100%-16">
            <object style="TitleText" type="text" size="0 5 100% 25">
                <translatableAttribute id="caption">Graphics Settings</translatableAttribute>
            </object>
            <object size="0 25 65% 50" type="text" style="ModernLabelText" text_align="right">
                <translatableAttribute id="caption">Enable Shadows</translatableAttribute>
            </object>
            <object name="ShadowsCFG" size="70% 30 70%+25 55" type="checkbox" style="ModernTickBox">
                <action on="Load">this.checked = Engine.Renderer_GetShadowsEnabled();</action>
                <action on="Press">Engine.Renderer_SetShadowsEnabled(this.checked);</action>
            </object>
            <object size="0 50 65% 75" type="text" style="ModernLabelText" text_align="right">
                <translatableAttribute id="caption">Enable Shadow Filtering</translatableAttribute>
            </object>
            <object name="ShadowPCFCFGNow" size="70% 55 70%+25 80" type="checkbox" style="ModernTickBox">
                <action on="Load">this.checked = Engine.Renderer_GetShadowPCFEnabled();</action>
                <action on="Press">Engine.Renderer_SetShadowPCFEnabled(this.checked);</action>
            </object>
        </object>
        <object name="SoundSettings" type="image" sprite="ModernDarkBoxGold" size="616 16 916 50%">
            <object style="TitleText" type="text" size="0 5 100% 25">
                <translatableAttribute id="caption">Sound Settings</translatableAttribute>
            </object>
            <object size="0 25 65% 50" type="text" style="ModernLabelText" text_align="right">
                <translatableAttribute id="caption">Master Gain</translatableAttribute>
            </object>
            <object name="SMasterCFG" size="70% 25 70%+35 50" type="input" style="ModernInput">
                <action on="Load">this.caption = Engine.ConfigDB_GetValue("user", "sound.mastergain");</action>
            </object>
            <object size="70%+40 25 70%+85 50" type="button" style="StoneButton">
                <translatableAttribute id="caption">Save</translatableAttribute>
                <action on="Press">Engine.ConfigDB_CreateValue("user", "sound.mastergain", String(Engine.GetGUIObjectByName("SMasterCFG").caption));</action>
            </object>
            <object size="0 50 65% 75" type="text" style="ModernLabelText" text_align="right">
                <translatableAttribute id="caption">Music Gain</translatableAttribute>
            </object>
            <object name="SMusicCFG" size="70% 50 70%+35 75" type="input" style="ModernInput">
                <action on="Load">this.caption = Engine.ConfigDB_GetValue("user", "sound.musicgain");</action>
            </object>
            <object size="70%+40 50 70%+85 75" type="button" style="StoneButton">
                <translatableAttribute id="caption">Save</translatableAttribute>
                <action on="Press">Engine.ConfigDB_CreateValue("user", "sound.musicgain", String(Engine.GetGUIObjectByName("SMusicCFG").caption));</action>
            </object>
        </object>
        <object name="LobbySettings" type="image" sprite="ModernDarkBoxGold" size="616 50% 916 100%-16">
            <object style="TitleText" type="text" size="0 5 100% 25">
                <translatableAttribute id="caption">Lobby Settings</translatableAttribute>
            </object>
            <object size="0 25 65% 50" type="text" style="ModernLabelText" text_align="right">
                <translatableAttribute id="caption">Amount of Chat History</translatableAttribute>
            </object>
            <object name="LHistoryCFG" size="70% 25 70%+35 50" type="input" style="ModernInput">
                <action on="Load">this.caption = Engine.ConfigDB_GetValue("user", "lobby.history");</action>
            </object>
            <object size="70%+40 25 70%+85 50" type="button" style="StoneButton">
                <translatableAttribute id="caption">Save</translatableAttribute>
                <action on="Press">Engine.ConfigDB_CreateValue("user", "lobby.history", Engine.GetGUIObjectByName("LHistoryCFG").caption);</action>
            </object>
            <object size="0 50 65% 75" type="text" style="ModernLabelText" text_align="right">
                <translatableAttribute id="caption">Show Chat Timestamp</translatableAttribute>
            </object>
            <object name="LChatTSCFG" size="70% 55 70%+25 80" type="checkbox" style="ModernTickBox">
                <action on="Load">this.checked = Engine.ConfigDB_GetValue("user", "lobby.chattimestamp") === "false" ? this.checked = true : this.checked = false;</action>
                <action on="Press">Engine.ConfigDB_CreateValue("user", "lobby.chattimestamp", String(this.checked));</action>
            </object>
        </object>
        <object type="button" style="StoneButton" size="50%+16 100%-64 50%+144 100%-32">
            <translatableAttribute id="caption">Cancel</translatableAttribute>
            <action on="Press">Engine.PopGuiPage();</action>
        </object>
        <object type="button" style="StoneButton" size="50%-144 100%-64 50%-16 100%-32">
            <translatableAttribute id="caption">Save</translatableAttribute>
            <action on="Press">Engine.ConfigDB_WriteFile("user", "config/user.cfg");Engine.PopGuiPage();</action>
        </object>
    </object>
</objects>
